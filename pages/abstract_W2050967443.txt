A sequencing study comparing ancient and contemporary genomes reveals that most present-day Europeans derive from at least three highly differentiated populations: west European hunter-gatherers, ancient north Eurasians (related to Upper Palaeolithic Siberians) and early European farmers of mainly Near Eastern origin. By sequencing and comparing the genomes of nine ancient Europeans that bridge the transition to agriculture in Europe between 8,000 and 7,000 years ago, David Reich and colleagues show that most present-day Europeans derive from at least three highly differentiated populations — west European hunter-gatherers, ancient north Eurasians (related to Upper Palaeolithic Siberians) and early European farmers of mainly Near Eastern origin. They further propose that early European farmers had about 44% ancestry from a 'basal Eurasian' population that split before the diversification of other non-African lineages. These results raise interesting new questions, for instance that of where and when the Near Eastern farmers mixed with European hunter-gatherers to produce the early European farmers. We sequenced the genomes of a ∼7,000-year-old farmer from Germany and eight ∼8,000-year-old hunter-gatherers from Luxembourg and Sweden. We analysed these and other ancient genomes1,2,3,4 with 2,345 contemporary humans to show that most present-day Europeans derive from at least three highly differentiated populations: west European hunter-gatherers, who contributed ancestry to all Europeans but not to Near Easterners; ancient north Eurasians related to Upper Palaeolithic Siberians3, who contributed to both Europeans and Near Easterners; and early European farmers, who were mainly of Near Eastern origin but also harboured west European hunter-gatherer related ancestry. We model these populations’ deep relationships and show that early European farmers had ∼44% ancestry from a ‘basal Eurasian’ population that split before the diversification of other non-African lineages.