Diabetic retinopathy is one of the most dangerous complications of diabetes. It affects the eyes causing damage to the blood vessels of the retina. Eventually, as the disease develops, it is possible to lose sight. The main cure for this pathology is based on the early detection which plays a crucial role in slowing the progress of the underlying disease and protecting many patients from losing their sight. However, the detection of diabetic retinopathy at its early stages remains an arduous task that requires human expert interpretation of fundus images in order to vigilantly follow-up the patient. In this paper, we shall propose a new automatic diabetic retinopathy detection method that based on deep-learning. The aforementioned approach is composed of two main steps: an initial pre-processing step where the deformable registration is applied on the retina to occupy the entire image and eliminate the effect of the background on the classification process. The second step is the classification phase in which we train four convolutional neural networks (CNN) models (Densenet-121, Xception, Inception-v3, Resnet-50) to detect the stage of diabetic retinopathy. The performance of our proposed architecture has been tested on the APTOS 2019 dataset. As the latter is relatively small, a transfer learning is adopted by pre-training the mentioned CNNs on the ImageNet dataset and fine-tuning them on the APTOS dataset. In the testing phase, the final prediction is obtained by a system of voting based on the output of the four convolutional neural networks. Our model has performed an accuracy of 85.28% in the testing phase.