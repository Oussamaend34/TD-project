Nowadays, modern Internet of Things (IoT) applications are enabling smart cities across the world. They provide remote device monitoring, management, and control, and even the extraction of new perspectives and actionable data from massive amounts of real-time data. A high degree of information technology integration and extensive utilization of resources are two biggest features of smart cities. Due to the obvious increasing amount and mobility of such distributed interconnected objects, attackers are becoming increasingly interested in them. Hence, a set of approaches have been developed to improve IoT Security. Intrusion detection systems (IDS) have previously gotten a lot of attention in the research field and industry. Therefore, several intrusion detection systems (IDSs) relies on approaches of machine learning (ML) and deep learning (DL) have been suggested to detect malicious intrusions. This study describes a revolutionary intrusion detection methodology for IoT-based smart environments that uses Ensemble Learning. The approach typically presented an optimum anomaly detection model which is based on AdaBoost and the Boruta feature selection technique based on the Xgboost algorithm. Furthermore, the suggested model metrics have been evaluated utilizing the NSL-KDD and BoT-IoT datasets. When compared to existing IDS, the results demonstrate that the proposed method produces excellent performance metrics in high accuracy (ACC), recall, and F1-score. It gives 99.9% on record detection and computation time.