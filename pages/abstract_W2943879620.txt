Internet of Things, is an innovative technology which allows the connection of physical things with the digital world through the use of heterogeneous networks and communication technologies. In an IoT system, a major role is played by the wireless sensor network as its components comprise: sensing, data acquiring, heterogeneous connectivity and data processing. Mobile ad-hoc networks are highly self reconfiguring networks of mobile nodes which communicate through wireless links. In such a network, each node acts both as a router and host at the same time. The interaction between MANETs and Internet of Things opens new ways for service provision in smart environments and challenging issues in its networking aspects. One of the main issues in MANET–IoT systems is the mobility of the network nodes: routing protocol must react effectively to the topological changes into the algorithm design. We describe the design and implementation of AQ-Routing, and analyze its performance using both simulations and measurements based on our implementation. In general, the networking of such a system is very challenging regarding routing aspects. Also, it is related to system mobility and limited network sensor resources. This article builds upon this observation an adaptive routing protocol (AQ-Routing) based on Reinforcement Learning (RL) techniques, which has the ability to detect the level of mobility at different points of time so that each individual node can update routing metric accordingly. The proposed protocol introduces: (i) new model, developed via Q-learning technique, to detect the level of mobility at each node in the network; (ii) a new metric, called $$Q_{\textit{metric}},$$ Q metric , which account for the static and dynamic routing metrics, and which are combined and updated to the changing network topologies. The protocol can efficiently handle network mobility by a way of preemptively adapting its behaviour thanks to the mobility detection model. The presented results of simulation provide an effective approach to improve the stability of links in both static and mobile scenario and, hence, increase the packet delivery ratio in the global MANET–IoT system.